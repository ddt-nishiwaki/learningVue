<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>速習Vue.js</title>
</head>
<body>
    <!--
        helloコンポーネントのDOMテンプレート設定です
        id="hello"に対応するVueインスタンスがある場合に
        そのVueインスタンスのプロパティと紐づきます。
    -->
    <div id="hello">
        <!--
            プロパティの埋め込みにはMustache構文を利用します
            式の値が評価されたものがHTMLに埋め込まれます
            Vueインスタンスのプロパティを参照する際は data.プロパティとせず
            単に プロパティ名 とすれば利用できます
            1
                {{ 式 }}
        -->
        <p>Mustash構文による埋め込み: {{message}}</p>
        <!--
            Vueではディレクティブと呼ばれる特別な属性を利用できます
            形式は v-◯◯ となり、様々なものがあります
            テキストデータを埋め込むならMustash構文ではなく次のディレクティブも利用可能ですが
            設定したタグのテキストを全て置き換えてしまうのでMustash構文を利用した方が柔軟に対応できます。

                v-text

            また、用途が同じであればMustash構文かディレクティブかアプリ内では統一した方が可読性が上がるでしょう
        -->
        <p>ディレクティブによる埋め込み: <span v-text="message"></span></span></p>
        <!--
            Mustash構文を無効化して、式をそのまま表示したい場合は次のディレクティブを利用します

                v-pre
        -->
        <p v-pre>Mustash構文を無効化: {{message}}</p>
        <!--
            通常HTMLタグを評価して埋め込むことはXSSの危険があるため回避されるべきです
            VueではデフォルトでHTMLタグ文字列をエスケープします
        -->
        <p>HTMLタグはデフォルトでエスケープ: {{messageHtml}}</p>
        <!--
            動的に生成したHTMLを埋め込みたいときはディレクティブを利用して明示的に示します
        -->
        <p>HTMLの埋め込み: <span v-html="messageHtml"></span></span></p>
        <!--
            Mustash構文でタグ内のコンテンツは埋め込めますが、属性値にプロパティの値を利用したい場合もあるでしょう。
            この場合はMustash構文は利用できません。代わりに v-bind ディレクティブを利用します。

                <タグ v-bind:埋め込みたい属性></タグ>
        -->
        <p>属性値の埋め込み: <a v-bind:href="vueOrgUrl">Vueの公式ページへのリンクです</a></p>
        <!--
            Mustash構文内ではJavascriptの式を評価します。これはロジックをテンプレート側に設定できることを意味しますが、
            一般的にはテンプレート内へのロジック挿入は控えるべきでしょう。
            Vueではインスタンスにロジックを持たせるための"算出プロパティ"と呼ばれる仕組みがあるので利用します。
            今までは data プロパティ内に値を設定していましたが、算出プロパティは computed プロパティにメソッドを設定します。
            これによりテンプレート側ではロジックを意識せず,通常のプロパティと同じように利用することができます。

                {{ 算出プロパティ名 }}

            NOTE:
                dataプロパティ内にメソッドを設定しても式がパースされて単なる文字列として埋め込まれます
        -->
        <p>score: {{score}}</p><!-- 通常のプロパティ -->
        <p>scoreによって値を変える算出プロパティの埋め込み: {{rank}}</p><!-- 算出プロパティ -->
        <!--
            算出プロパティと同じように method プロパティにメソッドを設定することもできます。
            算出プロパティのNOTEに記載の通り、こちらは再描画処理(プロパティ更新時に発火)のたびに実行されるので
            毎回状態を更新するようなものに利用する以外は算出プロパティを利用した方が
            処理に無駄が無くな流のでいいでしょう。
        -->
        <p>算出プロパティによる値：{{randomc}}</p>
        <p>メソッドによる値：{{randomm()}}</p>
        <!-- 算出プロパティとメソッドの挙動の違いを確認するため再描画を行うボタンを設定しています -->
        <form><input type="button"value="再描画" onclick="hello.$forceUpdate()"/></form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
    <script src="./hello.js"></script>
</body>
</html>